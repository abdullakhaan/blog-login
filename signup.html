<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="box">
        <div class="form">
            <h1>SignUp Page</h1>
            <form>
            <div class="inputbox"><input type="text" value="" id="username" required placeholder="Username"></div>
            <div class="inputbox"><input type="email" value="" id="email" required  placeholder="E-mail"></div>
            <div class="inputbox" ><input type="password" value="" id="password" required  placeholder="Password"></div>
           <input type="submit" value="Signup" id="sign"> <br>
           <p>Already registered?</p>
           <a id="sig" href="../login/login.html">Login</a>
            </form>
        </div>
        <div>
            <a id="home" href="../home.html">Goto Home</a>
        </div>

        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
            import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-database.js";
            
          
            const firebaseConfig = {
              apiKey: "AIzaSyA6LIf96_3HM7y5ILcXDtxnzIXTNcd59lo",
              authDomain: "todoo-smit.firebaseapp.com",
              projectId: "todoo-smit",
              storageBucket: "todoo-smit.appspot.com",
              messagingSenderId: "114376912043",
              appId: "1:114376912043:web:fe8010d2151b7f9ee69bee",
              measurementId: "G-XTTLBVLC6Q"
            };
          
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
        
            // Initialize Firebase
            const db = getDatabase(app);
          
            document.getElementById("sign").addEventListener('click', function(e){
                e.preventDefault();
              set(ref(db, 'user/' + document.getElementById("username").value),
              
                 { username: document.getElementById("username").value,
                  email: document.getElementById("email").value,
                  password: document.getElementById("password").value,
            }
          
          )
              alert("Signup Successful !");
            })
        </script>


    </div>
</body>
</html>